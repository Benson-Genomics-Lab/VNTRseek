MACRO(DETERMINE_ARCH ARCH)
    IF(CMAKE_SYSTEM_NAME STREQUAL Linux)
        IF(CMAKE_SYSTEM_PROCESSOR STREQUAL x86_64)
            SET(${ARCH} linux64)
        ELSEIF(CMAKE_SYSTEM_PROCESSOR STREQUAL i386)
            SET(${ARCH} i386)
        ENDIF()
    ELSEIF(CMAKE_SYSTEM_NAME STREQUAL Darwin)
        IF(CMAKE_SYSTEM_PROCESSOR STREQUAL x86_64)
            SET(${ARCH} macos64)
        ELSEIF(CMAKE_SYSTEM_PROCESSOR STREQUAL i386)
            SET(${ARCH} UNSUPPORTED)
        ENDIF()
    ELSEIF(CMAKE_SYSTEM_NAME STREQUAL SunOS)
        SET(${ARCH} solaris-sparc)
    ELSEIF(CMAKE_SYSTEM_NAME STREQUAL Windows)
        SET(${ARCH} dos)
    ELSE()
        # Unhandled case.
        SET(${ARCH} UNSUPPORTED)
    ENDIF()
ENDMACRO(DETERMINE_ARCH ARCH)
